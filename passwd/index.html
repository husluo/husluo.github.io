<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>密码</title>



<style>BODY {
	SCROLLBAR-FACE-COLOR: #acbd87; FONT-SIZE: 10pt; SCROLLBAR-HIGHLIGHT-COLOR: #ffffff; SCROLLBAR-SHADOW-COLOR: #ffffff; COLOR: #4f4f05; SCROLLBAR-3DLIGHT-COLOR: #acbd87; SCROLLBAR-ARROW-COLOR: #ffffff; SCROLLBAR-TRACK-COLOR: #c6d3ac; SCROLLBAR-DARKSHADOW-COLOR: #acbd87; BACKGROUND-COLOR: #d7dfc5
}
TEXTAREA {
	WIDTH: 100%; COLOR: #15217d; BACKGROUND-COLOR: #eaeee7
}
#oInput {
	FONT-FAMILY: "Courier new"
}
INPUT {
	
}
</style>

<script language="JavaScript">

/////////////////////////////////////////////////////////////
// 栅栏密码
function enRailFence()
{
	removeSpace();
	var strIn = oInput.value;
	var strOut = "";
	var width = clamp(oRailFenceWidth.value, 2, 200);
	var dummy = (width - strIn.length % width) % width;
	strIn += numChar(dummy, "@");
	var height = strIn.length / width;
	for (i = 0; i < width; i++)
	{
		for (var j = 0; j < height; j++)
		{
			strOut += strIn.charAt(j*width+i);
		}
	}
	oInput.value = strOut;
}
function deRailFence()
{
	removeSpace();
	var strIn = oInput.value;
	var strOut = "";
	var height = clamp(oRailFenceWidth.value, 2, 200);
	var dummy = (height - strIn.length % height) % height;
	strIn += numChar(dummy, "@");
	var width = strIn.length / height;
	for (i = 0; i < width; i++)
	{
		for (var j = 0; j < height; j++)
		{
			strOut += strIn.charAt(j*width+i);
		}
	}
	oInput.value = strOut;
}
function enumEnRailFence()
{
	var aStrIn = oInput.value.split("\r\n");
	oInput.value = aStrIn[0];
	removeSpace();
	var s = oInput.value;
	var strOut = s + "\r\n\r\n";
	var w = clamp(oRailFenceWidth.value, 2, 200);
	var bMatch = oRailFenceMatch.checked;
	for (var width = w; width < w + 15; width++)
	{
		if (width > s.length / 2)
			break;
		if (bMatch && s.length % width != 0)
			continue;
		var dummy = (width - s.length % width) % width;
		var strIn = s + numChar(dummy, "@");
		var height = strIn.length / width;
		strOut += width + "栏：\r\n";
		for (i = 0; i < width; i++)
		{
			for (var j = 0; j < height; j++)
			{
				strOut += strIn.charAt(j*width+i);
			}
		}
		strOut += "\r\n\r\n";
	}
	oInput.value = strOut;
}
function enumDeRailFence()
{
	var aStrIn = oInput.value.split("\r\n");
	oInput.value = aStrIn[0];
	removeSpace();
	var s = oInput.value;
	var strOut = s + "\r\n\r\n";
	var h = clamp(oRailFenceWidth.value, 2, 200);
	var bMatch = oRailFenceMatch.checked;
	for (var height = h; height < h + 15; height++)
	{
		if (height > s.length / 2)
			break;
		if (bMatch && s.length % height != 0)
			continue;
		var dummy = (height - s.length % height) % height;
		var strIn = s + numChar(dummy, "@");
		var width = strIn.length / height;
		strOut += height + "栏：\r\n";
		for (i = 0; i < width; i++)
		{
			for (var j = 0; j < height; j++)
			{
				strOut += strIn.charAt(j*width+i);
			}
		}
		strOut += "\r\n\r\n";
	}
	oInput.value = strOut;
}
function removeSpace()
{
	oInput.value = oInput.value.replace(/\s/g, "");
}
</script>

<meta content="MSHTML 6.00.2900.3199" name="GENERATOR"></head>
<body>
<p style="FONT-WEIGHT: bold"><input onclick="hideAllDiv();divRailFence.style.display=&#39;block&#39;" type="radio" name="oCType" checked></p>
<!-- 栅栏密码 -->
<div>
<p>在下面的文本框输入明文或密文，点加密或解密，文本框中即可出现所得结果</p><input onclick="enRailFence()" type="button" value="加密"> 
<input onclick="deRailFence()" type="button" value="解密"> <input onclick="enumEnRailFence()" type="button" value="列举加密"> <input onclick="enumDeRailFence()" type="button" value="列举解密"> 栏数：<input id="oRailFenceWidth" style="WIDTH: 100px" value="12"> <input id="oRailFenceMatch" type="checkbox" checked>只列举完整匹配的 <br></div>

<!-- 密文框 -->密文框：<br><textarea id="oInput" style="HEIGHT: 300px"></textarea><br>
</body></html>
